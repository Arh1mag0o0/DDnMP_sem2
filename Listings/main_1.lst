


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             |.text|, CODE, READONLY
    2 00000000         
    3 00000000         array_search_asm
                               PROC                         ; –ù–∞—á–∞–ª–æ —Ñ—É
                                                            –Ω–∫—Ü–∏–∏ array_se
                                                            arch_asm
    4 00000000                 EXPORT           array_search_asm
    5 00000000         ; –§—É–Ω–∫—Ü–∏—è (–ø—Ä–æ—Ü–µ–¥—É—Ä–∞) —Ä–µ–∞–ª–∏–∑—É–µ—Ç
                        –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —á–∏—Å–ª–∞ x –≤ –∏—
                       Å—Ö–æ–¥–Ω–æ–º –º–∞—Å—Å–∏–≤–µ
    6 00000000         ; –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –
                       Ω–∞ –º–∞—Å—Å–∏–≤ —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä R0
    7 00000000         ; –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–
                       ≤—Ä–∞—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä R0
    8 00000000         ; R0 = *array
    9 00000000         ; R1 = size(array)
   10 00000000         ; return R0= –Ω–æ–º–µ—Ä —ç–ª. –ø–æ—Å–ª–µ x
   11 00000000 F04F 0804       mov              R8, #4      ;—Ä–∞–∑–º–µ—Ä –æ–¥–
                                                            Ω–æ–≥–æ —ç–ª–µ–º–µ–
                                                            Ω—Ç–∞ –º–∞—Å—Å–∏–≤–
                                                            ∞
   12 00000004 FB01 F108       mul              R1,R1,R8    ;
   13 00000008 F04F 0600       mov              R6,#0       ; i=0 –¥–ª—è —Å—á–µ
                                                            —Ç—á–∏–∫–∞ –∫–æ–Ω—Ü
                                                            –∞ –≤—Ö–æ–¥–Ω–æ–≥–æ
                                                             –º–∞—Å—Å–∏–≤–∞
   14 0000000C 4604            mov              R4,R0       ; –≤ R4 –±—É–¥–µ–º 
                                                            —Ö—Ä–∞–Ω–∏—Ç—å –∞–¥
                                                            —Ä–µ—Å –æ—á–µ—Ä–µ–¥
                                                            –Ω–æ–≥–æ —ç–ª–ª–µ–º
                                                            –µ–Ω—Ç–∞ –º–∞—Å—Å–∏
                                                            –≤–∞
   15 0000000E         search
   16 0000000E 428E            cmp              R6,R1       ;—Å–µ—Å—Ç—á–∏–∫ –∫–
                                                            æ–Ω—Ü–∞ —á–∏—Å–µ–ª
   17 00000010 DA04            bge              deadsearch  ;–ø–µ—Ä–µ—Ö–æ–¥ –≤ 
                                                            deadsearch –µ—Å–ª–∏
                                                             –≤—Ö–æ–¥–Ω–æ–π –º–
                                                            ∞—Å—Å–∏–≤ –∑–∞–∫–æ–
                                                            Ω—á–∏–ª—Å—è 
   18 00000012 5DA5            ldrb             R5,[R4,R6]  ; —á—Ç–µ–Ω–∏–µ –±–∞
                                                            –π—Ç–∞ –∏–∑ –ø–∞–º—
                                                            è—Ç–∏ (—á—Ç–µ–Ω–∏–µ
                                                             –æ—á–µ—Ä–µ–¥–Ω–æ–≥
                                                            –æ —ç–ª–µ–º–µ–Ω—Ç–∞
                                                             –º–∞—Å—Å–∏–≤–∞)
   19 00000014 4446            add              R6,R8       ;+1 –∫ —Å—á–µ—Ç—á–∏
                                                            –∫—É –æ–ø—Ä–µ–¥–µ–ª
                                                            —è—é—â–µ–º—É –∫–æ–Ω
                                                            –µ—Ü –≤—Ö–æ–¥–Ω–æ–≥
                                                            –æ –º–∞—Å—Å–∏–≤–∞
   20 00000016 429D            cmp              R5, R3      ; —Å—Ä–∞–≤–Ω–µ–Ω–∏–
                                                            µ –æ—á–µ—Ä–µ–¥–Ω–æ–
                                                            ≥–æ —ç–ª–µ–º–µ–Ω—Ç–
                                                            ∞ –º–∞—Å—Å–∏–≤–∞ —Å
                                                             x       
   21 00000018 D000            beq              deadsearch  ; –ø–µ—Ä–µ—Ö–æ–¥ –≤
                                                             deadsearch –µ—Å–ª–
                                                            ∏ —É—Å–ª–æ–≤–∏–µ –≤



ARM Macro Assembler    Page 2 


                                                            —ã–ø–æ–ª–Ω–∏–ª–æ—Å—
                                                            å
   22 0000001A E7F8            b                search      ;–ø–æ–≤—Ç–æ—Ä –º–µ—
                                                            Ç–∫–∏ search
   23 0000001C         deadsearch
   24 0000001C 4630            mov              R0,R6       ;–∑–∞–ø–∏—Å—å –±–∞–
                                                            π—Ç–æ–≤–æ–≥–æ —Å–º–
                                                            µ—â–µ–Ω–∏—è —á–∏—Å–
                                                            ª–∞ 22 –æ—Ç–Ω–æ—Å–∏
                                                            —Ç–µ–ª—å–Ω–æ –ø–µ—Ä
                                                            –≤–æ–≥–æ —ç–ª. –≤—Ö
                                                             –º–∞—Å—Å–∏–≤–∞ 
   25 0000001E 4770            BX               LR
   26 00000020                 ENDP                         ; –ö–æ–Ω–µ—Ü —Ñ—É–Ω
                                                            –∫—Ü–∏–∏ array_sear
                                                            ch_asm
   27 00000020         
   28 00000020         lab_asm PROC
   29 00000020         ;—Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∑–∞–ø–∏—Å—å –≤ –Ω–æ–
                       ≤—ã–π –º–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ—è—Ç
                        –ø–æ—Å–ª–µ 22 –≤ –ø–µ—Ä–≤–æ–º –º–∞—Å—Å–∏–≤–µ, –ø–æ—Å–ª–
                       µ –Ω–∞—Ö–æ–∂–¥–Ω–µ–∏—è 22
   30 00000020         ; –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –
                       Ω–∞ –º–∞—Å—Å–∏–≤ —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä R0
   31 00000020         ; R0 = *array
   32 00000020         ; R1 = size(array)
   33 00000020         ; R2 = *new_array
   34 00000020         ; R3 = x
   35 00000020                 EXPORT           lab_asm
   36 00000020 B507            PUSH             {R0-R2, LR}
   37 00000022 F7FF FFFE       BL               array_search_asm
   38 00000026 E8BD 4007       POP              {R0-R2, LR}
   39 0000002A         write                                ;–Ω–æ–≤—ã–π —Ü–∏–∫–
                                                            ª, –∫–æ—Ç–æ—Ä—ã–π –
                                                            ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç
                                                             –∑–∞–ø–∏—Å—å —ç–ª–
                                                            µ–º–µ–Ω—Ç–æ–≤, —Å—Ç
                                                            –æ—è—â–∏—Ö –ø–æ—Å–ª
                                                            –µ 22 –≤ –Ω–æ–≤—ã–π
                                                             –º–∞—Å—Å–∏–≤
   40 0000002A FB01 F108       mul              R1,R1,R8    ;
   41 0000002E 428E            cmp              R6,R1       ;—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
                                                            , –ø—Ä–æ–≤–µ—Ä–∫–∞ 
                                                            –ø–æ—Å–ª–µ–¥–Ω–∏–π-
                                                            –ª–∏ —ç—Ç–æ –±—ã–ª 
                                                            —ç–ª–µ–º–µ–Ω—Ç –º–∞
                                                            —Å—Å–∏–≤–∞
   42 00000030 DA06            bge              deadwrite   ; –ø–µ—Ä–µ—Ö–æ–¥ –≤
                                                             deadwrite –µ—Å–ª–∏
                                                             —É—Å–ª–æ–≤–∏–µ –≤—
                                                            ã–ø–æ–ª–Ω–∏–ª–æ—Å—å
                                                            
   43 00000032 5D85            ldrb             R5,[R0,R6]  ; —á—Ç–µ–Ω–∏–µ –±–∞
                                                            –π—Ç–∞ –∏–∑ –ø–∞–º—
                                                            è—Ç–∏ (—á—Ç–µ–Ω–∏–µ
                                                             –æ—á–µ—Ä–µ–¥–Ω–æ–≥
                                                            –æ —ç–ª–µ–º–µ–Ω—Ç–∞
                                                             –º–∞—Å—Å–∏–≤–∞)
   44 00000034 7015            strb             R5,[R2]     ;–∑–∞–ø–∏—Å—å –≤ –Ω



ARM Macro Assembler    Page 3 


                                                            –æ–≤—ã–π –º–∞—Å—Å–∏
                                                            –≤ 
   45 00000036 F102 0204       add              R2,#4       ;+1 –∫ –Ω–æ–º–µ—Ä—É
                                                             –∑–∞–ø–∏—Å–∏ –≤—ã—
                                                            Ö–æ–ª–¥–Ω–æ–≥–æ –º–
                                                            ∞—Å—Å–∏–≤–∞
   46 0000003A F106 0604       add              R6,#4       ;+1 –∫ —Å—á–µ—Ç—á–∏
                                                            –∫—É –æ–ø—Ä–µ–¥–µ–ª
                                                            —è—é—â–µ–º—É –∫–æ–Ω
                                                            –µ—Ü –≤—Ö–æ–¥–Ω–æ–≥
                                                            –æ –º–∞—Å—Å–∏–≤–∞
   47 0000003E E7F4            b                write
   48 00000040         deadwrite
   49 00000040                 ENDP
   50 00000040         
   51 00000040                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\main_1.d -o.\objects\main_1.o -IC:\Users\Admin\AppData\L
ocal\Arm\Packs\Keil\STM32F1xx_DFP\2.3.0\Device\Include --predefine="__EVAL SETA
 1" --predefine="__UVISION_VERSION SETA 535" --predefine="STM32F10X_MD SETA 1" 
--list=.\listings\main_1.lst main_1.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 1 in file main_1.s
   Uses
      None
Comment: .text unused
array_search_asm 00000000

Symbol: array_search_asm
   Definitions
      At line 3 in file main_1.s
   Uses
      At line 4 in file main_1.s
      At line 37 in file main_1.s

deadsearch 0000001C

Symbol: deadsearch
   Definitions
      At line 23 in file main_1.s
   Uses
      At line 17 in file main_1.s
      At line 21 in file main_1.s

deadwrite 00000040

Symbol: deadwrite
   Definitions
      At line 48 in file main_1.s
   Uses
      At line 42 in file main_1.s
Comment: deadwrite used once
lab_asm 00000020

Symbol: lab_asm
   Definitions
      At line 28 in file main_1.s
   Uses
      At line 35 in file main_1.s
Comment: lab_asm used once
search 0000000E

Symbol: search
   Definitions
      At line 15 in file main_1.s
   Uses
      At line 22 in file main_1.s
Comment: search used once
write 0000002A

Symbol: write
   Definitions
      At line 39 in file main_1.s
   Uses
      At line 47 in file main_1.s
Comment: write used once
7 symbols



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

340 symbols in table
